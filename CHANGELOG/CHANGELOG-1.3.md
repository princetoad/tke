# [1.3.0](https://github.com/tkestack/tke/compare/v1.2.4...v1.3.0) (2020-07-07)


### Bug Fixes

* **cluster:** keep version format same ([178b761](https://github.com/tkestack/tke/commit/178b761dad405d20bc753ce61ae953041300996a))
* **cluster:** kubernetes node versions ([f5bac25](https://github.com/tkestack/tke/commit/f5bac25b34edc8dea562e4280e812373476fc9c7))
* **cluster:** missing max pods for kubelet ([ff96564](https://github.com/tkestack/tke/commit/ff96564dc670badfc3288655489de9f68222ebbc))
* **cluster:** update cluster machine health status when error ([7f0edc1](https://github.com/tkestack/tke/commit/7f0edc18f09c77be7f4724204d253867e99c05cb))
* **console:** add watching of logagent module ([d100259](https://github.com/tkestack/tke/commit/d100259127b11c9e8620da50c724f3c8409c8c86))
* **console:** create Import cluster address split error ([f36f06d](https://github.com/tkestack/tke/commit/f36f06d3d8682948ca8cbd85f3ebde95a2aeee4a))
* **console:** disable multiple namespace selection ([e4020b2](https://github.com/tkestack/tke/commit/e4020b21f4e013f3c31f6d39e33be243883d2b39))
* **installer:** panic when find cluster ([0d6aae2](https://github.com/tkestack/tke/commit/0d6aae245aee8c92170d2b8a9c0225706bdb1313))
* bussiness resource not found ([5a55208](https://github.com/tkestack/tke/commit/5a552086896379ae62bbe16bdb92615c5b5ffbe1))
* delete cluster panic and improve log.FromContext ([160fc27](https://github.com/tkestack/tke/commit/160fc279cbd60296ad3e569830b57de83c71f6e6))
* dollar expansion in ssh exec ([74831c2](https://github.com/tkestack/tke/commit/74831c292882ea0267671263c2c168b3fe413ed9))
* fix alarmpolicy filter ([e8653a1](https://github.com/tkestack/tke/commit/e8653a15bbac30f7532fe899014d33032c715dc6))
* **cluster:** add mark for baremetal cluster ([84d8d93](https://github.com/tkestack/tke/commit/84d8d932c4c2ad96dd8af88a1738e2226817cc8f))
* **cluster:** addon RESTs overwrite apiserver path when sending request ([7825e9e](https://github.com/tkestack/tke/commit/7825e9e84427c1bde92b6c53dd3cd98f8dfcbbcb))
* **cluster:** adjust SkipConditions priority ([ec36387](https://github.com/tkestack/tke/commit/ec36387a7235756bfb2c6c42b927fe1ef0a95f52))
* **cluster:** allocate galaxy ipam service ip ([a5bdb73](https://github.com/tkestack/tke/commit/a5bdb73f097b6dde1c574d8b2d6ac750a03ba2ef))
* **cluster:** hash cache in ssh ([f38a99a](https://github.com/tkestack/tke/commit/f38a99a3f11e7853bc49614dfa1806667429d5dc))
* **cluster:** kube-proxy in iptables mode can't connect clusterIP in node ([5bdaa6d](https://github.com/tkestack/tke/commit/5bdaa6d7b59e2340d310075ec2466dbd5154d871))
* **cluster:** kubeadm versions ([2c4250e](https://github.com/tkestack/tke/commit/2c4250e6edd7546cb20933db85fcf74ff8b71be0))
* **cluster:** minor version with + for tke cluster ([b94ab60](https://github.com/tkestack/tke/commit/b94ab6014923e0cb1e2062a8b9cc13bbea38a648))
* **cluster:** PlatformAPIClientConfig in machine ([c3012eb](https://github.com/tkestack/tke/commit/c3012ebc688f9b3a33d94d4ea25ecdb62091b6a2))
* **cluster:** set svc gpu-quota-admission clusterIP ([955cd60](https://github.com/tkestack/tke/commit/955cd6047973fe42dea064327c570115963e9d43))
* **cluster:** url path in requests sent by addon RESTs should be cut ([7e1b57a](https://github.com/tkestack/tke/commit/7e1b57a7fccb92ad287e474f4db716f05e26387a))
* **installer:** ceil for memory ([143656d](https://github.com/tkestack/tke/commit/143656da782b75c0b96d8dcb763a041319b88ebc))
* **installer:** check error when network in bond, close [#493](https://github.com/tkestack/tke/issues/493) ([df2a81d](https://github.com/tkestack/tke/commit/df2a81dedf5add56cfc853255aa740e4a026f7e7))
* **installer:** cluster provider compatibility with installer ([96a4792](https://github.com/tkestack/tke/commit/96a47926f60be0413b4fbedf819526024596c9dd))
* **installer:** global cluster default value ([1210c09](https://github.com/tkestack/tke/commit/1210c097eaf44688a009fd01587c7a1c55240744))
* **installer:** global cluster default value ([95258cf](https://github.com/tkestack/tke/commit/95258cfb0133212e54805e21f59254c23ee68ed4))
* **installer:** log option ([e0a15aa](https://github.com/tkestack/tke/commit/e0a15aa0bc5278fa617f5f0cf4e1189299c3b0b0))
* **installer:** log panic in context ([0acc0a8](https://github.com/tkestack/tke/commit/0acc0a8173326322ec357be525e6b7314eb4d4c6))
* **installer:** provider config ([d5aed82](https://github.com/tkestack/tke/commit/d5aed8205913e5dc07c7e63209b814de67cc68ba))
* **installer:** set value of new params for tke-monitor-controller ([#515](https://github.com/tkestack/tke/issues/515)) ([6931230](https://github.com/tkestack/tke/commit/69312307205cae52b8d63fcfd7dd9af15364e451))
* **installer:** tke-platform-api missing tke-platform-config.yaml ([c373624](https://github.com/tkestack/tke/commit/c37362408e120ed20cb284619d022ccb91833858))
* **ipam:** config for floatingip ([93e19a4](https://github.com/tkestack/tke/commit/93e19a429b21b7f59a991413da322fe387d4193a))
* **logagent:** add logagent in sysinfo ([4f48a21](https://github.com/tkestack/tke/commit/4f48a2101c8efbe104fe25a4165c6cfc5808dcf7))
* **platform:** fix syntax error for node filesystem metrics ([06967ac](https://github.com/tkestack/tke/commit/06967ac9ea367ca128bb879eaf936c39a64ef8a1))
* **platform:** update metric k8s_node_status_ready ([4463226](https://github.com/tkestack/tke/commit/44632269573f1c8cac2e946cddf230b54b34257e))
* add namespace judge to delete & create notification template req ([5a3e7e0](https://github.com/tkestack/tke/commit/5a3e7e09910a9bc81ffcd134fd3438561b464cfa))
* alarm record add cluster filter; notify temp fix webhook probs ([02b7784](https://github.com/tkestack/tke/commit/02b778471b79562506da36eadade7fec0a8e5446))
* authn returns user info with invalid groups ([3e55788](https://github.com/tkestack/tke/commit/3e557880d8f147cfeb79dcb8a925c8e444cc4441))
* can not authn with business ns kubeconfig ([1432c8a](https://github.com/tkestack/tke/commit/1432c8a849b076c9521d7cfb495a9741bca28c1c))
* create floatingIP configmap ([27c2d47](https://github.com/tkestack/tke/commit/27c2d470cfea1ee761f091e2d385c645259940ff))
* docker startup err not detected ([a24e820](https://github.com/tkestack/tke/commit/a24e8204db526b22a68d15dbe50aeeb7a8330391))
* fix the reduce method for cpu,mem of node's list ([614e402](https://github.com/tkestack/tke/commit/614e40259eb45724285f0f72842ee3a2275da025))
* fix the wathcModule for menu ([c2f0b04](https://github.com/tkestack/tke/commit/c2f0b04374e7e45c82cf8bec7b3656604864baea))
* rollback unsuitable filter ([4efa2f7](https://github.com/tkestack/tke/commit/4efa2f7f562b15d308813691cec91073df006569))
* **auth:** solve the 1.18 api compatibility problem of policies/users ([a928634](https://github.com/tkestack/tke/commit/a928634f328740d92ad2ede59cbb969e2480b59e))
* **cluster:** add ipvs relative kernel module ([166fdc8](https://github.com/tkestack/tke/commit/166fdc8502161331c572f78eb3363f8d4f424c22))
* **cluster:** clean cluster mask when deleting imported cluster ([a036566](https://github.com/tkestack/tke/commit/a0365668c537c6a04eb154435f3c326be077fa21))
* **cluster:** missing clusterCIDR in kube-proxy config ([59d6b8e](https://github.com/tkestack/tke/commit/59d6b8ea73523ee4c5ba1e7166b6e34ad5fdd484))
* **cluster:** provider-res version ([e4d2266](https://github.com/tkestack/tke/commit/e4d2266146c059b992de2c402ef7b14e7005b3ee))
* **installer:** allow to set version ([5ff0be1](https://github.com/tkestack/tke/commit/5ff0be1d8887f256e352de24f93b65271bd1c8de))
* **platform:** do not sum node filesystem metric ([bb493e3](https://github.com/tkestack/tke/commit/bb493e32b1829a52a4c89480f1d84a0ebd52b69a))
* remove some project monitor items ([08eda07](https://github.com/tkestack/tke/commit/08eda07198328f11a2f49b03f11d600400e9ab49))
* update mirror MaxUnavailabl value can not be 0 ([7a8075e](https://github.com/tkestack/tke/commit/7a8075e95b5a0a5b6d91fc705303e91d6b327fe5))
* upgrade gpu-manager version to v1.0.4 ([b7c99b4](https://github.com/tkestack/tke/commit/b7c99b43965ce3f4818e58179041b9ba294c004d))
* **cluster:** condition type match ([81a2eea](https://github.com/tkestack/tke/commit/81a2eea822c42d7e59440d36297267b0c89589d6))
* **cluster:** delete addons when delete cluster ([2b4443e](https://github.com/tkestack/tke/commit/2b4443e1cee06bb7290c2048b7a335e1da6ff84a))
* **cluster:** keepalived vrid conflict ([6f5c8b0](https://github.com/tkestack/tke/commit/6f5c8b06db0d02939901428c78d2018d04d75cfa))
* **cluster:** vip failover in kubeadm join phase ([75b4441](https://github.com/tkestack/tke/commit/75b4441206fe7011f48e3cf1e0baf32f5adb5b0d))
* **installer:** add gpu-manager cm ([68af11f](https://github.com/tkestack/tke/commit/68af11faac0067648e76740964bce275a1bbc316))
* **notify:** allow user-define name for recv and recvgrp ([2519c0b](https://github.com/tkestack/tke/commit/2519c0b2d19ec4589d152ccfec4861907db8f3d1))
* format monitor problems add code ([bc52f14](https://github.com/tkestack/tke/commit/bc52f1460546bf16442f5b24d26c85fd2e13ff23))
* modify the regexp for the env of container ([941d0fe](https://github.com/tkestack/tke/commit/941d0fe08e22ba69eb271530bb5c6a108000acc6))
* remove useless component ([ca2548a](https://github.com/tkestack/tke/commit/ca2548ada7fd3cedf996408376e0842f58182b28))
* **auth:** fix wait-local-sync post start hook blocking problem ([a3c4dc4](https://github.com/tkestack/tke/commit/a3c4dc439dcd2ca10d9d89e4f2f658b342c5c804))
* **cluster:** audit file path ([fea83b0](https://github.com/tkestack/tke/commit/fea83b0fe5f492140ffe155048659e4d685839e3))
* **cluster:** delete Imported cluster hang in Terminating ([63e6e14](https://github.com/tkestack/tke/commit/63e6e146103cf96fabc7ffe8c1663730975458ed))
* **cluster:** docker daemon.json error when tenantID is empty ([dd0f9d4](https://github.com/tkestack/tke/commit/dd0f9d456bdfdfd70e660dc8e951219334e7965f))
* **cluster:** duplicate enableHttps in schedulerPolicyConfig ([da90dc7](https://github.com/tkestack/tke/commit/da90dc72c6e2178d3642ebfb8b56a03aebe0d8ec))
* **cluster:** get credential not in clusterCredentialRef ([411ffdf](https://github.com/tkestack/tke/commit/411ffdf1f5b396a3a16e3796c2e577198012202a))
* **cluster:** ignore error for cleanup iptables rule, close [#398](https://github.com/tkestack/tke/issues/398) ([c168354](https://github.com/tkestack/tke/commit/c16835483ddbe64857e927eff251d5387cb3aa01))
* **cluster:** import cluster verification failure ([e701629](https://github.com/tkestack/tke/commit/e7016297c1e94e106821bc0ca6333fa589047a5b))
* **cluster:** join error, close [#273](https://github.com/tkestack/tke/issues/273) ([f27700a](https://github.com/tkestack/tke/commit/f27700a2bde68dc3cb68958215360528ebdb1df8))
* **cluster:** missing etcd for local etcd ServerCertSANs ([119a2c2](https://github.com/tkestack/tke/commit/119a2c2286b78180e4c0cac4baf592d9cc17fe14))
* **cluster:** save config error ([21aa31e](https://github.com/tkestack/tke/commit/21aa31ea4910ab0db6bcbeb34277fd03c23b6d65))
* **cluster:** scale sub-resources of workload cannot be updated using patch request ([c4ce3fc](https://github.com/tkestack/tke/commit/c4ce3fc894cfb27a8eb3624560b8e7257fe00838))
* **galaxy-ipam:** fix galaxy-ipam service ([9d1eee6](https://github.com/tkestack/tke/commit/9d1eee6175d61a69037626ae91b1d97653f63328))
* **gateway:** web route ([33bf207](https://github.com/tkestack/tke/commit/33bf207cd2303881de934d38ff20a29f2fef09a4))
* **installer:** redirect useless error message, close [#407](https://github.com/tkestack/tke/issues/407) ([749851a](https://github.com/tkestack/tke/commit/749851a677da5638e528763416237096ef1e7962))
* 1. use two containers in daemonset. 2. pick fix from tke2 ([6157aae](https://github.com/tkestack/tke/commit/6157aaec711caa180258094e74388e6260f03b99))
* add loagent images in generate-image ([8d7a57f](https://github.com/tkestack/tke/commit/8d7a57fb8b54c5e5f71a0613928f6d87d4bc929f))
* add reload tke and ldap idp store periodically ([#311](https://github.com/tkestack/tke/issues/311)) ([80274a6](https://github.com/tkestack/tke/commit/80274a605e0a81d6997a7db2ef0834d68a562629))
* allow user to specify empty domain ([eb1e9b1](https://github.com/tkestack/tke/commit/eb1e9b1395f36fe03ac03d8885fd21f1e4b8e8f5))
* bussiness alarmPolicy crash ([#327](https://github.com/tkestack/tke/issues/327)) ([5b1a14b](https://github.com/tkestack/tke/commit/5b1a14baafff64dc919c506d6959cc3b576c0ac1))
* close annotation value validator ([#315](https://github.com/tkestack/tke/issues/315)) ([7dc9827](https://github.com/tkestack/tke/commit/7dc98277c37c3266bd4342aec3bd8198760de8d8))
* compat with 1.18 for all controller ([54c1f49](https://github.com/tkestack/tke/commit/54c1f493244133e8eac536f0fd81d1e387dce08d))
* compat with 1.18 for all controller ([9031cac](https://github.com/tkestack/tke/commit/9031cacdadb6251aa3b446e82d419f746e36364c))
* compat with 1.18 for cluster controller ([de3e051](https://github.com/tkestack/tke/commit/de3e05103fda081cc9b8218f01605d855fec2bb7))
* compat with 1.18 for logagent module ([77bee01](https://github.com/tkestack/tke/commit/77bee01d4c76be2d5fd879e14cc8df39acf058a2))
* compat with 1.18 for logagent module ([a5037ae](https://github.com/tkestack/tke/commit/a5037ae46f8bf5724b9613c50f8f69767c127cf6))
* compat with 1.18 for notify module ([e4c4860](https://github.com/tkestack/tke/commit/e4c48609ed2ec5aeea33425ad83ca335322af2ba))
* compat with 1.18 for notify module ([1f02146](https://github.com/tkestack/tke/commit/1f0214651eb180202669f31fb0700c66b529da29))
* downgrade helm version to solve checksum inconsistency ([563e07b](https://github.com/tkestack/tke/commit/563e07b13503fb1a951e016dcbd03ba0204e8dc3))
* fix the options for tapp in event; fix the cmd of container for multiple cmd ([#321](https://github.com/tkestack/tke/issues/321)) ([55e4e98](https://github.com/tkestack/tke/commit/55e4e9845c64533315c89a80d0319ab60dd81542))
* generate certificate for business namespace ([fd44417](https://github.com/tkestack/tke/commit/fd44417f784c3d922df84217e89266f3b28be620))
* multi arch errors ([2927072](https://github.com/tkestack/tke/commit/292707269c3d0850b350d85c516eeaaf7fc45004))
* **log-agent:** make subresource filedownload  longrunning ([2eb9ba5](https://github.com/tkestack/tke/commit/2eb9ba5e4cf12d0178b499305710b7f147abf364))
* add className to the filtering part of the audit ([e85a60b](https://github.com/tkestack/tke/commit/e85a60b30274ed212b16ed15459f3ebc301c5417))
* audit-prob-fix build ([b203299](https://github.com/tkestack/tke/commit/b2032993865ef22e6d76b472b3ed946a4d541131))
* bump galaxy/ipam version to fix host port issue ([e4f7238](https://github.com/tkestack/tke/commit/e4f72388948f633b156776c74e13c7b2daa90db3))
* business portal missed lister interfaces ([a938043](https://github.com/tkestack/tke/commit/a9380430fff46b592afa61b872e276de5ea96623))
* cluster gpu type validation ([8777bc4](https://github.com/tkestack/tke/commit/8777bc4d76e2b6ccdab7da147deb5cf4bf3ea027))
* make the secondary navigation on the left configurable ([9cbd6a4](https://github.com/tkestack/tke/commit/9cbd6a449d85f2bbf21618f01e95e33ccde76705))
* no circle checking when supporting changing project parent. ([87c471e](https://github.com/tkestack/tke/commit/87c471eed45881b81da942f2cbc60e0a00557ec6))
* pass context to all client-go request ([fdef564](https://github.com/tkestack/tke/commit/fdef5645cd2d7567184b225c55139e1074a1ad91))
* pass context to all client-go request ([7df648f](https://github.com/tkestack/tke/commit/7df648f729783c52aaf098d0eef63e82786a2dba))
* pass lbcf context to client-go ([e79f6e1](https://github.com/tkestack/tke/commit/e79f6e16fcf57bfc98bd288fbd065c72a3ae0a88))
* pass lbcf context to client-go ([aa7020f](https://github.com/tkestack/tke/commit/aa7020ff3b0bc6a9f18b10271dc8b0cb3c67d991))
* remove the limit of password in secret, etc ([56d89f4](https://github.com/tkestack/tke/commit/56d89f4a3bec0a8dce8c5f85fa01ba18e94827cc)), closes [#317](https://github.com/tkestack/tke/issues/317)
* **auth:** compatible with version 1.18 lister function declaration modification ([86219f4](https://github.com/tkestack/tke/commit/86219f44e722eca23ec7236e6ec1f75b75f2d5a7))
* **cluster:** compatible with version 1.18 lister function declaration modification ([c4b6feb](https://github.com/tkestack/tke/commit/c4b6febdefba1242aaf0e0a6d0742867904d2c85))
* **cluster:** log in provider.OnCreate ([60d3f14](https://github.com/tkestack/tke/commit/60d3f14ad00b61b72b271e754ba951c54e80d447))
* **log-agent:** make logagent running when NumberAvailable is more than 1 ([775900b](https://github.com/tkestack/tke/commit/775900ba4a286fdc826d11ea05acb0684331eb9c))
* **monitor:** always return namespace, workloadType and workloadName ([592eeeb](https://github.com/tkestack/tke/commit/592eeeb70dddfae03c5fd2ff91d202cd23e05ae3))
* **platform:** refactor code for creating CRDs used by prometheus-operator ([37c791e](https://github.com/tkestack/tke/commit/37c791e1cf30db1a94ac020e70e2fae74c4e7885))
* resolve conflict ([ad3a5de](https://github.com/tkestack/tke/commit/ad3a5de769930e54b294d05bcee49de644f4589b))
* resolve conflict ([c740714](https://github.com/tkestack/tke/commit/c74071462191645b1d40b9c7f6cd7e8fee5e818c))
* solve the 1.18 api compatibility problem of business/auth ([b4f9db6](https://github.com/tkestack/tke/commit/b4f9db6d15921fd7723f78a04eccf95eab867a62))
* **cluster:** import cluster panic in tke-platform-controller ([c745783](https://github.com/tkestack/tke/commit/c745783da56f867e19ee8da75a6335a546f88b51))
* **cluster:** rollback does not match the expected API version ([2312152](https://github.com/tkestack/tke/commit/2312152fd1354681df9b2c690f5ab11e8b2cf479))
* **cluster:** sync ClusterCredential, close [#356](https://github.com/tkestack/tke/issues/356) ([682581e](https://github.com/tkestack/tke/commit/682581e59c444fb325127b38a970bc61d53a9771))
* **gateway:** invalid UTF-8 in text frame ([d65202e](https://github.com/tkestack/tke/commit/d65202eb16f148a9def58d2e3bf3165a11b5d476))
* **gateway:** regerate console assets ([c107e50](https://github.com/tkestack/tke/commit/c107e5046968658161b1f1b7c5341095c27ab8fd))
* **installer:** download kubectl in release ([43637af](https://github.com/tkestack/tke/commit/43637af8028fd6ca8ee2faa4c5abff83f8d41fdc))
* **monitor:** support all combinations of namespace, workloadType and workloadName for alarmPolicy ([35e0a5f](https://github.com/tkestack/tke/commit/35e0a5f3c62396cd00a3d0a918c5bb68a3fa6184))
* **platform:** failed installation of VolumeDecorator ([906059a](https://github.com/tkestack/tke/commit/906059a99081be97d27086275d9b9d7c0b5dd5d0))
* **platform:** update k8s_node metrics ([c155a6b](https://github.com/tkestack/tke/commit/c155a6b692574e68d5d8446bfbb680932c131782))
* replace deprecated metric apiserver_request_latencies_summary by ([b216dea](https://github.com/tkestack/tke/commit/b216deabe5f232ff9923d24f1b241771a208bebc))
* solve the 1.18 api compatibility problem of business/auth ([ead621d](https://github.com/tkestack/tke/commit/ead621d6f8141e240987f75e6dbfd31f97e94fb2))
* ssh with private key ([2aa3873](https://github.com/tkestack/tke/commit/2aa3873c0178903c9043a1c0d3132b405428eb98))
* **installer:** add 'hosts: files dns' to installer image ([87e983e](https://github.com/tkestack/tke/commit/87e983e51581bc1097ab013be2fd7cf6ae34f054))
* **tke-installer:** tke components cert auth ([0fbad9c](https://github.com/tkestack/tke/commit/0fbad9c9183966814635031e288b7287f63cdfcb))
* **tke-upgrate:** fix readme ([b8ee627](https://github.com/tkestack/tke/commit/b8ee627c98b08cf6040c63416b99172405504328))


### Features

* **addon:** lbcf rest can proxy requests to lbcf driver ([5ab270e](https://github.com/tkestack/tke/commit/5ab270e4b5e03f46866832f9336138a7fff24574))
* **auth:** support kubernetes's actions in project roles ([#481](https://github.com/tkestack/tke/issues/481)) ([6271181](https://github.com/tkestack/tke/commit/627118177866841dff5d055713d284a4df16b552))
* **cluster:** add kubectl completion bash ([7bc58f8](https://github.com/tkestack/tke/commit/7bc58f8661a4e2af834813225cf20d9040afd70b))
* **cluster:** add OnRunning for cluster provider ([9ba7c0a](https://github.com/tkestack/tke/commit/9ba7c0af96af8de7e3f83350a81cdc2aeac3e493))
* **cluster:** add setup and teardown for cluster provider ([a233e22](https://github.com/tkestack/tke/commit/a233e2223b54c4719e7db8cea620e3deec58e7bf))
* **cluster:** change kube-proxy default mode to iptables ([da28b6a](https://github.com/tkestack/tke/commit/da28b6a0e6b9d62f285de9c63203362004a3a1b4))
* **cluster:** downgrade coredns to 1.6.7 for keep same with community ([66c0a59](https://github.com/tkestack/tke/commit/66c0a5994afbe61f9e8fa59c43ec8c80a15c7242))
* **cluster:** enabled authn by x509 and authz in webhook mode ([f447e37](https://github.com/tkestack/tke/commit/f447e37530d57718e3c93a06235ab896b6f05331))
* **cluster:** galaxy-ipam support multiarch ([31819ae](https://github.com/tkestack/tke/commit/31819ae0e9e842fde4fa72208821ded454c638ee))
* **cluster:** loadbalance by iptables rules ([dd9c13c](https://github.com/tkestack/tke/commit/dd9c13c177220a1ac76c03de2fd51bbedcdf5c54))
* **cluster:** preload kube-images and print docker proxy info ([112162e](https://github.com/tkestack/tke/commit/112162eb42c532e7e32001d9cc5d03c72c52d87f))
* **cluster:** support customize components args in provider ([497ef9f](https://github.com/tkestack/tke/commit/497ef9fdd676bace17d545f78f478ec37d7ad78c))
* **cluster:** support normal ssh user with nopassword sudo ([48cbf22](https://github.com/tkestack/tke/commit/48cbf22be28647eabd30fce548f9f21cd25f7b1c))
* **cluster:** support path in address ([bbb8cb6](https://github.com/tkestack/tke/commit/bbb8cb67eb98ef9bfb688366c48588ecf332c413))
* **cluster:** support upgrade kubernetes version ([c7703cc](https://github.com/tkestack/tke/commit/c7703cc7950105379178317e57bee7e9d6cbdb87))
* **console:** logstash v2 ([a5f0ad1](https://github.com/tkestack/tke/commit/a5f0ad193471406f097fd8b5a8b909e71f3e0827))
* **console:** support path in address ([a4002af](https://github.com/tkestack/tke/commit/a4002af140e385c4d7b1403ef813cc23fe993752))
* **installer:** add audit setting ([8d8f344](https://github.com/tkestack/tke/commit/8d8f344510557ebd72f747dab32ad95bc3cfed83))
* **installer:** add requirement 30GiB available disk space for `/var/lib` in first node ([84d7c20](https://github.com/tkestack/tke/commit/84d7c20a2470a3383785f15af572e57adeb5100f))
* **installer:** add requirement for available disk space in bootstrap ([718b878](https://github.com/tkestack/tke/commit/718b8785930e6935fa438435d47514bf06c74180))
* **installer:** enable logagent default ([99c5130](https://github.com/tkestack/tke/commit/99c513073c8e1dc274f236adb34960ea081b22ae))
* **installer:** enable logagent default ([17c2509](https://github.com/tkestack/tke/commit/17c25093cfaa00d32a7b0a3650ba3acc1fc3a76d))
* **installer:** improve the use experience ([c12ae73](https://github.com/tkestack/tke/commit/c12ae73537510570d0f8f57e5d8f8b7d2bcc1eb9))
* **installer:** issue etcd client cert for tke components ([9ef2dac](https://github.com/tkestack/tke/commit/9ef2dacaa8d99b5ece0918f3fd62d306a4490b8d))
* **installer:** support infinite retry on error ([79ade36](https://github.com/tkestack/tke/commit/79ade36d6e4430828743d663a912e1722dd4f42c))
* **installer:** support use official registry ([ef8c9e4](https://github.com/tkestack/tke/commit/ef8c9e472b4580cddee5c467a0fa4ba3f01f3c17))
* **monitor:** copy prometheus addon from platform to monitor ([b8a7cef](https://github.com/tkestack/tke/commit/b8a7cefa44cbbb8e2cfd1e7a5ad9592193a58f70))
* **notify:** add clusterDisplayName to alarm variables ([1d81546](https://github.com/tkestack/tke/commit/1d815460e81eec9278bd648a5079eca309423312))
* add alarm record ([4ff1e0d](https://github.com/tkestack/tke/commit/4ff1e0d5aefac90231ca0fb5180da55b7b1dca6c))
* add mechine user default name ([cfbd418](https://github.com/tkestack/tke/commit/cfbd418c66f450b9e0e5a254fa0309b4869f565e))
* add the warning info for the gray update for tapp ([b57133f](https://github.com/tkestack/tke/commit/b57133fdb9dff58c3be733dd0f339b15d66e35b0))
* add webhook option & alerm message template prompts ([7017a69](https://github.com/tkestack/tke/commit/7017a694bcb5577687c3b08150f29938198d421e))
* change forbidden namespaces ([4ef3e54](https://github.com/tkestack/tke/commit/4ef3e54c7533cef56bf6f987cdb0dd938118e05a))
* change tke resources requirement to 2c4g ([891c561](https://github.com/tkestack/tke/commit/891c561f70f94446c82aae3a65dba65383c34bde))
* extension to business portal ([e7497df](https://github.com/tkestack/tke/commit/e7497dfb4097385ee41761935afbe434b72ab774))
* remove module ([d122e9c](https://github.com/tkestack/tke/commit/d122e9cc32ebeadb2b6d7f96c556e9a05910508f))
* support the fieldRef of env in container ([7a4c26d](https://github.com/tkestack/tke/commit/7a4c26d1413718df9a6f93cef4dc5d52e0758fd3))
* **installer:** optimize tke components resources ([b936105](https://github.com/tkestack/tke/commit/b93610536a3880bd42e226bccf795465c412691b))
* **installer:** support use installer itself as global machine ([340ef8d](https://github.com/tkestack/tke/commit/340ef8d862ffce0fefcbc3217dd7f13f41ab223a))
* **notify:** add clusterID to notify message ([7914fd8](https://github.com/tkestack/tke/commit/7914fd86eeac66396da84738f566f65254181932))
* **platform:** add tenantID and clusterDisplayName to external ([977a482](https://github.com/tkestack/tke/commit/977a482dd514a58c9dcd70440afc7b38192514f7))
* support recovering from failed namespaces ([f33ec7e](https://github.com/tkestack/tke/commit/f33ec7e0c1fc066c7e54d89a2995fbd3da3a6868))
* **cluster:** support automatic regenerate apiserver cert for PublicAlternativeNames and Status.Addresses ([fab52a9](https://github.com/tkestack/tke/commit/fab52a908460b0a021e09d4e348f1a21f95c5b4b))
* **cluster:** support automatic renew certs when expiration duration less or equal than 30 days ([62232c9](https://github.com/tkestack/tke/commit/62232c90aabe4a88612aaddba5f304eece8ac468))
* **cluster:** support conntrack-tools ([3c0b7f2](https://github.com/tkestack/tke/commit/3c0b7f211e34acb2a5cc14c1f95e11dddce971a0))
* **cluster:** support full etcd customize ([ed240ab](https://github.com/tkestack/tke/commit/ed240ab04a9561e1d76489bff5d56d489761c922))
* **cluster:** support kubernetes v1.18.2 v1.16.9 ([23fbf4e](https://github.com/tkestack/tke/commit/23fbf4e3f89441384654b4ee714db46c0d9376d0))
* **cluster:** support register http handler ([0243d3b](https://github.com/tkestack/tke/commit/0243d3bd1a45b91b7b9694065f5d7bd8edaa227c))
* **cluster:** upgrade coredns from 1.6.7 to 1.6.9 ([a087b16](https://github.com/tkestack/tke/commit/a087b1676aa54219a6bb8580a0bd3d94cece3320))
* **cluster:** upgrade etcd from v3.3.18 to v3.4.7 ([9f55956](https://github.com/tkestack/tke/commit/9f55956df3270f1503fcbc6c869b23eb6485733a))
* **console:** alarm support ns ALL and Workload All ([efa010d](https://github.com/tkestack/tke/commit/efa010dfeebf960ec65965af08357b37045d4005))
* **monitor:** add param namespace, alarmPolicyType to policy list ([a96f057](https://github.com/tkestack/tke/commit/a96f0578f06839ceb0b9b20f5791e0e8a3738491))
* **notify:** add AlarmPolicyType and ReceiverChannelName to Message ([8528873](https://github.com/tkestack/tke/commit/8528873dc395123fc089c039d89b2766d7bfc997))
* add audit module and support audit for clusters ([fba9e30](https://github.com/tkestack/tke/commit/fba9e3066da587c1db4900c7f601b31e9ebfd654))
* add display name and uid for token info api ([#300](https://github.com/tkestack/tke/issues/300)) ([b62f5f2](https://github.com/tkestack/tke/commit/b62f5f2206c8a0688f4626f0a7ccdbaf2da739e9))
* add label of "device_type" to metrics in the form of "k8s_node_*" ([14c5843](https://github.com/tkestack/tke/commit/14c5843e63faaaa14e801157e540ff5ca592bab8))
* add new apiserver metrics ([473e3c4](https://github.com/tkestack/tke/commit/473e3c4805a2e426e506c25485f811f6ba26eb65))
* Add support of capabilities add/drop for container ([#275](https://github.com/tkestack/tke/issues/275)) ([00587dc](https://github.com/tkestack/tke/commit/00587dcf3cf3ed8d2d02c5d1dd8e26b871a0f01d))
* alarmplicy support tapp ([#326](https://github.com/tkestack/tke/issues/326)) ([30e0683](https://github.com/tkestack/tke/commit/30e0683c3573b80807426a560c1ab983d0d51e4f))
* Disable http debug url ([#284](https://github.com/tkestack/tke/issues/284)) ([c772863](https://github.com/tkestack/tke/commit/c772863db35e31fcb13707e4b2f9503f52746c7c))
* enable audit in most tke components ([56b15de](https://github.com/tkestack/tke/commit/56b15deda99505bb5eb5c0548209b9913ba59f7c))
* enhance fault-tolarance againt cluster losing ([4b8229a](https://github.com/tkestack/tke/commit/4b8229a99e525bbcadeee5db8395a47f083acda3))
* fix monitor ns prefix ([#335](https://github.com/tkestack/tke/issues/335)) ([40992a6](https://github.com/tkestack/tke/commit/40992a6521c59dceef0546a3b1fb061abcbac872))
* generate certificate for business namespace ([5d59303](https://github.com/tkestack/tke/commit/5d593030c08d6570fa1aae6aa9d8ec584e33e955))
* modify the config for prettier plugin ([#313](https://github.com/tkestack/tke/issues/313)) ([80ebaba](https://github.com/tkestack/tke/commit/80ebabaa6b1db82e7410aa0bb23887558293f863))
* move gpu-manager addon to cluster feature ([034c7eb](https://github.com/tkestack/tke/commit/034c7eb2ffb4b0021efb89e11b2ea33ddf6e74ee))
* refactor(locollector addon): use logagent-api and logagent-controller to replace it; able to fetch container log file content and directory structure. ([688af99](https://github.com/tkestack/tke/commit/688af992dbe9fb78d16a0a8d14024fcb72d8b0c4))
* return cluster type for business namespaces. ([b5d4c3f](https://github.com/tkestack/tke/commit/b5d4c3f5928679292b9df94891eecb43ab45aa60))
* support moving namespaces between projects ([5a1c639](https://github.com/tkestack/tke/commit/5a1c6396b4bb883ae3ad86c7fe0ac32cb583e337))
* support to select shell type for container login ([d87fce7](https://github.com/tkestack/tke/commit/d87fce7d66ffcf80c977103faeb9cb17168d65f5))
* sync project members with auth. ([970436a](https://github.com/tkestack/tke/commit/970436a47f71288761e879d78ec82511b039cfd6))
* upgrade helm to v3 ([76ea972](https://github.com/tkestack/tke/commit/76ea9729e54185e193469da3d840e893f22b4b69))
* upgrade kubernetes base component version ([d837b84](https://github.com/tkestack/tke/commit/d837b84c26ec2a28c3d23b38469c28cd2ed7175d))
* **installer:** add daemon.json to docker for resolve SELinux problem ([969e895](https://github.com/tkestack/tke/commit/969e8953a5de03330a8cc43dd3b6ef0a02430318))
* **installer:** support arm64 ([f97d6b2](https://github.com/tkestack/tke/commit/f97d6b2320945b315747ef5a5ff347813250d2dd))
* support es basic auth ([4c3ba57](https://github.com/tkestack/tke/commit/4c3ba57644f4b7ca9ced0b09ccc545f3ccc8253c))
* upgrade helm to v3 ([3ba8905](https://github.com/tkestack/tke/commit/3ba89052b2b5d31ee92f57f059aecb78fdb50446))
* upgrade kubernetes base component version ([2c07393](https://github.com/tkestack/tke/commit/2c0739316968aef7e4f2a10551b0556fd591f674))
* **cluster:** support ipvs and open by default ([fcf4efd](https://github.com/tkestack/tke/commit/fcf4efd4bccfa0556b17d7c1b2eceb575a0e4926))
* **tke-upgrate:** add tkestack components upgrade script ([d268e8e](https://github.com/tkestack/tke/commit/d268e8e2e466a6f21d039edfbd8625e05cb09c3f))
* upgrade node-exporter to v0.18.1 ([54aa896](https://github.com/tkestack/tke/commit/54aa89690aa462a15d536067a8683fbc6a66939e))



